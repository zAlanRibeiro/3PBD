//Criar tabelas

CREATE TABLE DEPARTAMENTO (
    nome VARCHAR2(60) NOT NULL,
    numero NUMBER PRIMARY KEY NOT NULL,
    rgGerente VARCHAR2(8) NOT NULL
);

CREATE TABLE EMPREGADO (
    nome VARCHAR2(50) NOT NULL,
    rg VARCHAR2(8) PRIMARY KEY NOT NULL, 
    cic VARCHAR2(8) NOT NULL,
    salario NUMBER (10,2) NOT NULL,
    fk_depto NUMBER,
    fk_rgSupervisor VARCHAR2(8),
);

CREATE TABLE PROJETO (
    nome VARCHAR2(60) NOT NULL,
    numero NUMBER PRIMARY KEY NOT NULL,
    localizacao VARCHAR2(100) NOT NULL
);

CREATE TABLE DEPENDENTES (
    rgResponsavel VARCHAR2(8) NOT NULL,
    nomeDependente VARCHAR2(60) PRIMARY KEY NOT NULL,
    nascimento DATE NOT NULL,
    relacao VARCHAR2(20) NOT NULL,
    sexo VARCHAR2(10) NOT NULL
);

CREATE TABLE DEPARTAMENTO_PROJETO (
    numeroDepto NUMBER NOT NULL,
    numeroProjeto NUMBER NOT NULL,
    PRIMARY KEY (numeroProjeto,numeroDepto)
);

CREATE TABLE EMPREGADO_PROJETO (
    rgEmpregado VARCHAR2(8) NOT NULL,
    numeroProjeto NUMBER NOT NULL,
    Horas NUMBER (3) NOT NULL,
    PRIMARY KEY(rgEmpregado,numeroProjeto)
);

//Inserir Departamento
INSERT INTO DEPARTAMENTO VALUES ('Contabilidade',1,10101010);
INSERT INTO DEPARTAMENTO VALUES ('Engenharia Civil',2,30303030);
INSERT INTO DEPARTAMENTO VALUES ('Engenharia Mecânica',3,20202020);

//Inserir Empregado
INSERT INTO EMPREGADO VALUES ('João Luiz',10101010,11111111,1,NULL,3000.00);
INSERT INTO EMPREGADO VALUES ('Fernando',20202020,22222222,2,10101010,2500.00);
INSERT INTO EMPREGADO VALUES ('Ricardo',30303030,33333333,2,10101010,2300.00);
INSERT INTO EMPREGADO VALUES ('Jorge',40404040,44444444,2,20202020,4200.00);
INSERT INTO EMPREGADO VALUES ('Renato',50505050,55555555,3,20202020,1300.00);

//Inserir Projeto
INSERT INTO PROJETO VALUES ('Financeiro 1',5,'São Paulo');
INSERT INTO PROJETO VALUES ('Motor 3',10,'Rio Claro');
INSERT INTO PROJETO VALUES ('Prédio Central',20,'Campinas');

//Inserir Dependentes
INSERT INTO DEPENDENTES VALUES (10101010, 'Jorge', TO_DATE('27/12/1986', 'DD/MM/YYYY'), 'Filho', 'Masculino');
INSERT INTO DEPENDENTES VALUES (10101010, 'Luiz', TO_DATE('18/11/1979', 'DD/MM/YYYY'), 'Filho', 'Masculino');
INSERT INTO DEPENDENTES VALUES (20202020, 'Fernanda', TO_DATE('14/02/1969', 'DD/MM/YYYY'), 'Cônjuge', 'Feminino');
INSERT INTO DEPENDENTES VALUES (20202020, 'Ângelo', TO_DATE('10/02/1995', 'DD/MM/YYYY'), 'Filho', 'Masculino');
INSERT INTO DEPENDENTES VALUES (30303030, 'Adreia', TO_DATE('01/05/1990', 'DD/MM/YYYY'), 'Filho', 'Feminino');

//Inserir Departamento Projeto
INSERT INTO DEPARTAMENTO_PROJETO VALUES (2,5);
INSERT INTO DEPARTAMENTO_PROJETO VALUES (3,10);
INSERT INTO DEPARTAMENTO_PROJETO VALUES (2,20);

//Inserir Empregado Projeto
INSERT INTO EMPREGADO_PROJETO VALUES (20202020,5,10);
INSERT INTO EMPREGADO_PROJETO VALUES (20202020,10,25);
INSERT INTO EMPREGADO_PROJETO VALUES (30303030,5,35);
INSERT INTO EMPREGADO_PROJETO VALUES (40404040,20,50);
INSERT INTO EMPREGADO_PROJETO VALUES (50505050,20,35);

//Add chaves estrangeiras 

ALTER TABLE DEPARTAMENTO
ADD CONSTRAINT fk_rgGerente FOREIGN KEY (rgGerente) REFERENCES EMPREGADO(rg);

ALTER TABLE DEPENDENTES
ADD CONSTRAINT FK_DEPENDENTES_RESPONSAVEL FOREIGN KEY (rgResponsavel)
REFERENCES EMPREGADO(rg);

ALTER TABLE EMPREGADO
ADD CONSTRAINT fk_depto FOREIGN KEY (fk_depto) REFERENCES DEPARTAMENTO(numero);

ALTER TABLE EMPREGADO
ADD CONSTRAINT fk_rgSupervisor FOREIGN KEY (fk_rgSupervisor) REFERENCES EMPREGADO(rg);

ALTER TABLE DEPARTAMENTO_PROJETO
ADD CONSTRAINT fk_deptoProjeto_depto FOREIGN KEY (numeroDepto)
REFERENCES DEPARTAMENTO(numero);

ALTER TABLE DEPARTAMENTO_PROJETO
ADD CONSTRAINT fk_deptoProjeto_projeto FOREIGN KEY (numeroProjeto)
REFERENCES PROJETO(numero);

ALTER TABLE EMPREGADO_PROJETO
ADD CONSTRAINT fkEmpregado_projetoEmpregado FOREIGN KEY (rgEmpregado)
REFERENCES EMPREGADO(rg);

ALTER TABLE EMPREGADO_PROJETO
ADD CONSTRAINT fk_EmpregadoProjeto_projeto FOREIGN KEY (numeroProjeto)
REFERENCES PROJETO(numero);
